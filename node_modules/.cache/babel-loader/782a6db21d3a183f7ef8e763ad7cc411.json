{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/cowinDashboard/src/components/CowinDashboard/index.js\";\nimport { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport VaccinationCoverage from '../VaccinationCoverage';\nimport VaccinationByGender from '../VaccinationByGender';\nimport VaccinationByAge from '../VaccinationByAge';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\nclass CowinDashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      apiStatus: apiStatusConstants.initial,\n      vaccinationData: {}\n    };\n    this.getVaccinationData = async () => {\n      this.setState({\n        apiStatus: apiStatusConstants.inProgress\n      });\n      const covidVaccinationDataApiUrl = 'https://apis.ccbp.in/covid-vaccination-data';\n      const response = await fetch(covidVaccinationDataApiUrl);\n      if (response.ok === true) {\n        const fetchedData = await response.json();\n        const updatedData = {\n          last7DaysVaccination: fetchedData.last_7_days_vaccination.map(eachDayData => ({\n            vaccineDate: eachDayData.vaccine_date,\n            dose1: eachDayData.dose_1,\n            dose2: eachDayData.dose_2\n          })),\n          vaccinationByAge: fetchedData.vaccination_by_age.map(range => ({\n            age: range.age,\n            count: range.count\n          })),\n          vaccinationByGender: fetchedData.vaccination_by_gender.map(genderType => ({\n            gender: genderType.gender,\n            count: genderType.count\n          }))\n        };\n        this.setState({\n          vaccinationData: updatedData,\n          apiStatus: apiStatusConstants.success\n        });\n      } else {\n        this.setState({\n          apiStatus: apiStatusConstants.failure\n        });\n      }\n    };\n    this.renderFailureView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"failure-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"failure-image\",\n        src: \"https://assets.ccbp.in/frontend/react-js/api-failure-view.png\",\n        alt: \"failure view\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"failure-text\",\n        children: \"Something went wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n    this.renderVaccinationStats = () => {\n      const {\n        vaccinationData\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(VaccinationCoverage, {\n          vaccinationCoverageDetails: vaccinationData.last7DaysVaccination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(VaccinationByGender, {\n          vaccinationByGenderDetails: vaccinationData.vaccinationByGender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(VaccinationByAge, {\n          vaccinationByAgeDetails: vaccinationData.vaccinationByAge\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n    this.renderLoadingView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-view\",\n      \"data-testid\": \"loader\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        color: \"#ffffff\",\n        height: 80,\n        type: \"ThreeDots\",\n        width: 80\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }, this);\n    this.renderViewsBasedOnAPIStatus = () => {\n      const {\n        apiStatus\n      } = this.state;\n      switch (apiStatus) {\n        case apiStatusConstants.success:\n          return this.renderVaccinationStats();\n        case apiStatusConstants.failure:\n          return this.renderFailureView();\n        case apiStatusConstants.inProgress:\n          return this.renderLoadingView();\n        default:\n          return null;\n      }\n    };\n  }\n  componentDidMount() {\n    this.getVaccinationData();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cowin-dashboard-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"logo\",\n            src: \"https://assets.ccbp.in/frontend/react-js/cowin-logo.png\",\n            alt: \"website logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"logo-heading\",\n            children: \"Co-WIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"heading\",\n          children: \"CoWIN Vaccination in India\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), this.renderViewsBasedOnAPIStatus()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default CowinDashboard;","map":{"version":3,"names":["Component","Loader","VaccinationCoverage","VaccinationByGender","VaccinationByAge","jsxDEV","_jsxDEV","Fragment","_Fragment","apiStatusConstants","initial","success","failure","inProgress","CowinDashboard","constructor","args","state","apiStatus","vaccinationData","getVaccinationData","setState","covidVaccinationDataApiUrl","response","fetch","ok","fetchedData","json","updatedData","last7DaysVaccination","last_7_days_vaccination","map","eachDayData","vaccineDate","vaccine_date","dose1","dose_1","dose2","dose_2","vaccinationByAge","vaccination_by_age","range","age","count","vaccinationByGender","vaccination_by_gender","genderType","gender","renderFailureView","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","renderVaccinationStats","vaccinationCoverageDetails","vaccinationByGenderDetails","vaccinationByAgeDetails","renderLoadingView","color","height","type","width","renderViewsBasedOnAPIStatus","componentDidMount","render"],"sources":["/home/workspace/reactjs/coding-practices/cowinDashboard/src/components/CowinDashboard/index.js"],"sourcesContent":["import {Component} from 'react'\nimport Loader from 'react-loader-spinner'\n\nimport VaccinationCoverage from '../VaccinationCoverage'\nimport VaccinationByGender from '../VaccinationByGender'\nimport VaccinationByAge from '../VaccinationByAge'\n\nimport './index.css'\n\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS',\n}\n\nclass CowinDashboard extends Component {\n  state = {\n    apiStatus: apiStatusConstants.initial,\n    vaccinationData: {},\n  }\n\n  componentDidMount() {\n    this.getVaccinationData()\n  }\n\n  getVaccinationData = async () => {\n    this.setState({\n      apiStatus: apiStatusConstants.inProgress,\n    })\n\n    const covidVaccinationDataApiUrl =\n      'https://apis.ccbp.in/covid-vaccination-data'\n\n    const response = await fetch(covidVaccinationDataApiUrl)\n    if (response.ok === true) {\n      const fetchedData = await response.json()\n      const updatedData = {\n        last7DaysVaccination: fetchedData.last_7_days_vaccination.map(\n          eachDayData => ({\n            vaccineDate: eachDayData.vaccine_date,\n            dose1: eachDayData.dose_1,\n            dose2: eachDayData.dose_2,\n          }),\n        ),\n        vaccinationByAge: fetchedData.vaccination_by_age.map(range => ({\n          age: range.age,\n          count: range.count,\n        })),\n        vaccinationByGender: fetchedData.vaccination_by_gender.map(\n          genderType => ({\n            gender: genderType.gender,\n            count: genderType.count,\n          }),\n        ),\n      }\n      this.setState({\n        vaccinationData: updatedData,\n        apiStatus: apiStatusConstants.success,\n      })\n    } else {\n      this.setState({apiStatus: apiStatusConstants.failure})\n    }\n  }\n\n  renderFailureView = () => (\n    <div className=\"failure-view\">\n      <img\n        className=\"failure-image\"\n        src=\"https://assets.ccbp.in/frontend/react-js/api-failure-view.png\"\n        alt=\"failure view\"\n      />\n      <h1 className=\"failure-text\">Something went wrong</h1>\n    </div>\n  )\n\n  renderVaccinationStats = () => {\n    const {vaccinationData} = this.state\n\n    return (\n      <>\n        <VaccinationCoverage\n          vaccinationCoverageDetails={vaccinationData.last7DaysVaccination}\n        />\n        <VaccinationByGender\n          vaccinationByGenderDetails={vaccinationData.vaccinationByGender}\n        />\n        <VaccinationByAge\n          vaccinationByAgeDetails={vaccinationData.vaccinationByAge}\n        />\n      </>\n    )\n  }\n\n  renderLoadingView = () => (\n    <div className=\"loading-view\" data-testid=\"loader\">\n      <Loader color=\"#ffffff\" height={80} type=\"ThreeDots\" width={80} />\n    </div>\n  )\n\n  renderViewsBasedOnAPIStatus = () => {\n    const {apiStatus} = this.state\n\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return this.renderVaccinationStats()\n      case apiStatusConstants.failure:\n        return this.renderFailureView()\n      case apiStatusConstants.inProgress:\n        return this.renderLoadingView()\n      default:\n        return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"app-container\">\n        <div className=\"cowin-dashboard-container\">\n          <div className=\"logo-container\">\n            <img\n              className=\"logo\"\n              src=\"https://assets.ccbp.in/frontend/react-js/cowin-logo.png\"\n              alt=\"website logo\"\n            />\n            <h1 className=\"logo-heading\">Co-WIN</h1>\n          </div>\n          <h1 className=\"heading\">CoWIN Vaccination in India</h1>\n          {this.renderViewsBasedOnAPIStatus()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default CowinDashboard\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}